<!DOCTYPE html>
<html>
<body>
    <h3>ğŸ”´ Notification Stream (User: user123)</h3>
    <div id="log" style="border:1px solid #ddd; padding:10px; height:300px; overflow-y:scroll;"></div>

    <script>
        const ws = new WebSocket("ws://localhost:8080/ws?user_id=user123");

        ws.onopen = () => log("âœ… Connected to Server");
        ws.onmessage = (evt) => {
            const data = JSON.parse(evt.data);
            log(`ğŸ“© <b>${data.title}</b>: ${data.message}`);
        };
        ws.onclose = () => log("âŒ Disconnected");

        function log(msg) {
            const div = document.createElement("div");
            div.innerHTML = `<p>${new Date().toLocaleTimeString()} - ${msg}</p>`;
            document.getElementById("log").prepend(div);
        }
    </script>
</body>
</html>